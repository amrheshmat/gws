@model SampleMVC.Models.RegisterModel;
@using TripBusiness.Ibusiness;
@inject ILocalizationService _localizationService;
@{
    ViewData["Title"] = "Admin Page";
    Layout = "";
}


<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Dash UI, Nextjs, Next.js,multipurpose">
    <link rel="shortcut icon" href="~/images/favicon.ico" type="image/x-icon">
    <title>Anoush dahabiya</title>
    <meta name="robots" content="index,follow">
    <meta name="description" content="Dash is a fuld web application projects. Nextjs Snippet ">
    <link rel="canonical" href="undefined/">
    <meta name="next-head-count" content="11">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/jquery-ui.css">
    <script src="~/js/jquery.min.js"></script>
    <script src="~/js/jquery-ui.js"></script>
    <script src="~/js/sweetAlert.js"></script>
    <!-- Toastr CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />
    <!-- Toastr JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="~/js/admin.js"></script>
    <link rel="stylesheet" href="~/css/style.css" data-n-g="">
    <link rel="stylesheet" href="~/css/adminStyle.css" data-n-g="">
    <style id="apexcharts-css">
.gender-options {
    display: flex;
    gap: 1rem;
    margin: 10px 0;
}
.resize-triggers {
    animation: 1ms resizeanim;
    visibility: hidden;
    opacity: 0;
    height: 100%;
    width: 100%;
    overflow: hidden
}
.contract-trigger:before, .resize-triggers, .resize-triggers > div {
    content: " ";
    display: block;
    position: absolute;
    top: 0;
    left: 0
}

.resize-triggers > div {
    height: 100%;
    width: 100%;
    background: #eee;
    overflow: auto
}
.contract-trigger:before {
    overflow: hidden;
    width: 200%;
    height: 200%
}

#subscribeForm input{
    margin-bottom:20px;
}
        /* Toastr error background */
        .toast-error {
            background-color: #a94442 !important;
            color: #fff !important;
        }

        /* Optional: change success */
        .toast-success {
            background-color: #28a745 !important;
            color: #fff !important;
        }

        /* Optional: info */
        .toast-info {
            background-color: #17a2b8 !important;
            color: #fff !important;
        }

        /* Optional: warning */
        .toast-warning {
            background-color: #ffc107 !important;
            color: #000 !important;
        }
    </style>
</head>
<body style="background-image: url('../images/welcome-1.webp');background-attachment: fixed;background-position: center;background-repeat: no-repeat;background-size: cover;">
    <div id="nb-global-spinner" class="spinner">
        <div class="blob blob-0"></div>
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
        <div class="blob blob-4"></div>
        <div class="blob blob-5"></div>
    </div>
    <div class="d-flex flex-column container" >

    <div class="align-items-center justify-content-center g-0 min-vh-100 row">

        <div class="py-8 py-xl-0 col-xxl-4 col-lg-6 col-md-8 col-12" style="width:75%;margin:10% auto;">

                <div class="smooth-shadow-md card" style=" background: rgba(0, 0, 0, 0.5);">

                <div class="p-6 card-body">

                    <div class="mb-4">
                            <p class="mb-6" style="text-align: center; font-size: 25px; font-weight: bold; color: #fff !important;">Create a new account</p>
                    </div>
                        @using (Html.BeginForm("subscribe", "Login", FormMethod.Post, new { id = "subscribeForm" }))
                        {
                       <div class="row">
                                <div class="mb-3 col-lg-6 ">
                                    @Html.TextBoxFor(model => model.fullName, new { @class = "form-control", placeholder = "Full Name ", required = "required" })
                                </div>
                                <div class="mb-3 col-lg-6 ">
                                    @Html.TextBoxFor(model => model.email, new
                                        {
                                            @class = "form-control",
                                            @pattern = "^[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}$",
                                            placeholder = "Email",
                                            required = "required",
                                            title = "Please enter a valid email address, e.g. user@example.com"
                                        })
                                </div>
                                <div class="mb-3 col-lg-6">
                                    @Html.TextBoxFor(model => model.mobile,
                                        new { 
                                            @class = "form-control", 
                                            placeholder = "Phone Number",
                                            @pattern = "^\\d{11}$",
                                            title = "Please enter a 11-digit mobile number (numbers only)",
                                            required = "required" })
                                </div>
                                <div class="mb-3 col-lg-6">
                                    <div class="form-control" style="padding: 0.2rem 1rem;">
                                        <label class="form-label" for="Gender" id="GenderLabel">
                                            Gender : 
                                        </label>
                                        @Html.RadioButtonFor(model => model.gender, "M", new { required = "required" }) Male
                                        @Html.RadioButtonFor(model => model.gender, "F", new { required = "required" }) Female
                                    </div>
                                </div>
                                <div class="mb-3 col-lg-6">
                                    @Html.TextBoxFor(model => model.userName, new { @class = "form-control", placeholder = "User Name ", required = "required" })
                                </div>
                                <div class="mb-3 col-lg-6">
                                    @Html.PasswordFor(model => model.password, new {
                                        @class = "form-control",
                                        @pattern = @"^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$",
                                        title = "Please enter a valid password should be 8 charachter or more and have on muber at least",
                                        placeholder = "password", required = "required" 
                                    })
                                </div>
                                <div class="d-lg-flex justify-content-between align-items-center mb-4">
                                    <span>have account?<a style="text-decoration: underline; font-family: 'Font Awesome 5 Free';" href="/login">login</a></span>
                                </div>
                                <div>
                                    <div class="d-grid">
                                        <button id="addForm" type="submit" class="btn btn-primary" style="background: linear-gradient(45deg, #3172e8, #2a5298);">@_localizationService.Localize("SignIn")</button>
                                    </div>
                                </div>
                       </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
            $('#subscribeForm').submit(function (e) {
                showLoader();
                e.preventDefault(); // Prevent the default form submission
                var formData = new FormData(this); // Create a FormData object
                $.ajax({
                    url: '/Login/subscribe',
                    type: 'POST',
                    data: formData,
                    contentType: false, // Required for FormData
                    processData: false, // Required for FormData
                    success: function (data) {
                        hideLoader();
                        toastr.options = {
                            "closeButton": true,
                            "progressBar": true,
                            "positionClass": "toast-top-right", // top-left, bottom-right, etc.
                            "timeOut": "10000" 
                        };
                        if (data.status == true) {
                            toastr.success(data.message);
                            setTimeout(function () {
                                window.location.href = '/login/registerResult';
                            }, 500);
                        } else {
                            toastr.error(data.message);
                        }
                    }
                });
        });
    });
    </script>
</body>
</html>
